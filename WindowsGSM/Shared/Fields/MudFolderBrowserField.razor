@inherits MudTextField<string>
@inject IDialogService DialogService

@{
    base.BuildRenderTree(__builder);
}

@code {
    [Parameter]
    public string GuidString { get; set; } = string.Empty;

    private DialogOptions _options = new DialogOptions
    {
        MaxWidth = MaxWidth.Medium,
        FullWidth = true,
        CloseButton = true,
        CloseOnEscapeKey = true,
    };

    protected override void OnInitialized()
    {
        base.AdornmentIcon = Icons.Filled.FolderOpen;
        base.Adornment = Adornment.End;
        base.OnAdornmentClick = EventCallback.Factory.Create<MouseEventArgs>(this, OnFolderClick);
    }

    private void OnFolderClick(MouseEventArgs args)
    {
        IDialogReference dialogReference = DialogService.Show<MudFolderBrowserDialog>("Broswer For Folder", _options);
    }
}
